entity @add4 (i4$ %A, i4$ %B, i1$ %Cin) -> (i4$ %S, i1$ %Cout) {
    %0 = const i4 0
    %G = sig i4 %0
    %1 = const i4 0
    %P = sig i4 %1
    %2 = const i4 0
    %C = sig i4 %2
    %3 = const time 0s 1e
    %A.prb = prb i4$ %A
    %B.prb = prb i4$ %B
    %4 = and i4 %A.prb, %B.prb
    drv i4$ %G, %4, %3
    %5 = const time 0s 1e
    %A.prb1 = prb i4$ %A
    %B.prb1 = prb i4$ %B
    %6 = xor i4 %A.prb1, %B.prb1
    drv i4$ %P, %6, %5
    %7 = const time 0s 1e
    %8 = const i32 0
    %9 = const i4 0
    %10 = sig i4 %9
    %11 = shr i4$ %C, i4$ %10, i32 %8
    %12 = exts i1$, i4$ %11, 0, 1
    %Cin.prb = prb i1$ %Cin
    drv i1$ %12, %Cin.prb, %7
    %13 = const time 0s 1e
    %A.prb2 = prb i4$ %A
    %B.prb2 = prb i4$ %B
    %14 = xor i4 %A.prb2, %B.prb2
    %C.prb = prb i4$ %C
    %15 = xor i4 %14, %C.prb
    drv i4$ %S, %15, %13
    %16 = const time 0s 1e
    %G.prb = prb i4$ %G
    %17 = const i32 3
    %18 = const i4 0
    %19 = shr i4 %G.prb, i4 %18, i32 %17
    %20 = exts i1, i4 %19, 0, 1
    %C.prb1 = prb i4$ %C
    %21 = const i32 3
    %22 = const i4 0
    %23 = shr i4 %C.prb1, i4 %22, i32 %21
    %24 = exts i1, i4 %23, 0, 1
    %P.prb = prb i4$ %P
    %25 = const i32 3
    %26 = const i4 0
    %27 = shr i4 %P.prb, i4 %26, i32 %25
    %28 = exts i1, i4 %27, 0, 1
    %29 = and i1 %24, %28
    %30 = or i1 %20, %29
    drv i1$ %Cout, %30, %16
    %31 = const time 0s 1e
    %32 = const i32 1
    %33 = const i4 0
    %34 = sig i4 %33
    %35 = shr i4$ %C, i4$ %34, i32 %32
    %36 = exts i1$, i4$ %35, 0, 1
    %G.prb1 = prb i4$ %G
    %37 = const i32 0
    %38 = const i4 0
    %39 = shr i4 %G.prb1, i4 %38, i32 %37
    %40 = exts i1, i4 %39, 0, 1
    %C.prb2 = prb i4$ %C
    %41 = const i32 0
    %42 = const i4 0
    %43 = shr i4 %C.prb2, i4 %42, i32 %41
    %44 = exts i1, i4 %43, 0, 1
    %P.prb1 = prb i4$ %P
    %45 = const i32 0
    %46 = const i4 0
    %47 = shr i4 %P.prb1, i4 %46, i32 %45
    %48 = exts i1, i4 %47, 0, 1
    %49 = and i1 %44, %48
    %50 = or i1 %40, %49
    drv i1$ %36, %50, %31
    %51 = const time 0s 1e
    %52 = const i32 2
    %53 = const i4 0
    %54 = sig i4 %53
    %55 = shr i4$ %C, i4$ %54, i32 %52
    %56 = exts i1$, i4$ %55, 0, 1
    %G.prb2 = prb i4$ %G
    %57 = const i32 1
    %58 = const i4 0
    %59 = shr i4 %G.prb2, i4 %58, i32 %57
    %60 = exts i1, i4 %59, 0, 1
    %C.prb3 = prb i4$ %C
    %61 = const i32 1
    %62 = const i4 0
    %63 = shr i4 %C.prb3, i4 %62, i32 %61
    %64 = exts i1, i4 %63, 0, 1
    %P.prb2 = prb i4$ %P
    %65 = const i32 1
    %66 = const i4 0
    %67 = shr i4 %P.prb2, i4 %66, i32 %65
    %68 = exts i1, i4 %67, 0, 1
    %69 = and i1 %64, %68
    %70 = or i1 %60, %69
    drv i1$ %56, %70, %51
    %71 = const time 0s 1e
    %72 = const i32 3
    %73 = const i4 0
    %74 = sig i4 %73
    %75 = shr i4$ %C, i4$ %74, i32 %72
    %76 = exts i1$, i4$ %75, 0, 1
    %G.prb3 = prb i4$ %G
    %77 = const i32 2
    %78 = const i4 0
    %79 = shr i4 %G.prb3, i4 %78, i32 %77
    %80 = exts i1, i4 %79, 0, 1
    %C.prb4 = prb i4$ %C
    %81 = const i32 2
    %82 = const i4 0
    %83 = shr i4 %C.prb4, i4 %82, i32 %81
    %84 = exts i1, i4 %83, 0, 1
    %P.prb3 = prb i4$ %P
    %85 = const i32 2
    %86 = const i4 0
    %87 = shr i4 %P.prb3, i4 %86, i32 %85
    %88 = exts i1, i4 %87, 0, 1
    %89 = and i1 %84, %88
    %90 = or i1 %80, %89
    drv i1$ %76, %90, %71
}
